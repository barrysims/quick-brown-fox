@(layout: com.barrysims.qbf.model.KeyLayout)/* Autogenerated */
@import com.barrysims.qbf.model._

#include "Pins.h"

#define layers @(layout.size)

@* Key definitions *@
@for(r <- 0 to layout.rows; c <- 0 to layout.cols) {
Action * actions_@(r)_@(c)[@layout.size] = {@for(ly <- layout){&@(ly.getOrElse((c, r), "empty")), }};
Key key_@(r)_@(c) = Key(actions_@(r)_@(c), @(layout.size));
}

@* Layout arrays *@
Key * layout[@(layout.rows + 1)][@(layout.cols + 1)] = {
@for(r <- 0 to layout.rows) {
    {@for(c <- 0 to layout.cols) {&key_@(r)_@(c), }},
}};